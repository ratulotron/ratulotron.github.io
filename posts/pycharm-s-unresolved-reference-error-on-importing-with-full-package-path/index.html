<!doctype html><html lang=en><head><title>PyCharm's 'Unresolved reference' error on importing with full package path :: Ratul.rants(about="xyz")</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="PyCharm's 'Unresolved reference' error on importing with full package path"><meta name=keywords content="blog"><meta name=robots content="noodp"><link rel=canonical href=/posts/pycharm-s-unresolved-reference-error-on-importing-with-full-package-path/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/green.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:creator content="Ratul Minhaz"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="PyCharm's 'Unresolved reference' error on importing with full package path"><meta property="og:description" content="PyCharm's 'Unresolved reference' error on importing with full package path"><meta property="og:url" content="/posts/pycharm-s-unresolved-reference-error-on-importing-with-full-package-path/"><meta property="og:site_name" content="Ratul.rants(about=&#34;xyz&#34;)"><meta property="og:image" content="/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:section" content="tips"><meta property="article:section" content="tech"><meta property="article:published_time" content="2023-01-20 23:00:00 +0000 UTC"></head><body class=green><div class="container headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Ratul.rants(about="xyz")</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Home</a></li><li><a href=/about>About</a></li><ul class=menu__sub-inner><li class=menu__sub-inner-more-trigger>Show more ▾</li><ul class="menu__sub-inner-more hidden"><li><a href=/categories>Categories</a></li><li><a href=/tags>Tags</a></li></ul></ul><div class=spacer></div><ul class=language-selector><ul class=language-selector-current><li>English ▾</li></ul><ul class="language-selector__more hidden"><li><a href=/>English</a></li><li><a href=/bn/>বাংলা</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Home</a></li><li><a href=/about>About</a></li><li><a href=/categories>Categories</a></li><li><a href=/tags>Tags</a></li><hr><li><a href=/>English</a></li><li><a href=/bn/>বাংলা</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/posts/pycharm-s-unresolved-reference-error-on-importing-with-full-package-path/>PyCharm&rsquo;s &lsquo;Unresolved reference&rsquo; error on importing with full package path</a></h1><div class=post-meta><span class=post-date>2023-01-20 [Updated: 2023-01-20]</span>
<span class=post-author>:: Ratul Minhaz</span></div><span class=post-tags>#<a href=/tags/pycharm/>pycharm</a>&nbsp;
#<a href=/tags/python/>python</a>&nbsp;</span><div class=post-content><div><p>If you use full path in the imports of your Python project, sometimes PyCharm can have trouble identifying the project structure and mark the root package name as &ldquo;Unresolved reference&rdquo; error. This is likely to happen when when the project was created manually and/or uses a dependency manager like Poetry.</p><p>For example, I have this project structure:</p><pre><code>.
├── Dockerfile
├── docker-compose.yml
├── poetry.lock
├── pyproject.toml
└── src
	├── .airflowignore
    └── lei_pipeline
        ├── __init__.py
        ├── dags
        │   ├── __init__.py
        │   └── download_latest_lei.py
        └── utils
            ├── __init__.py
            └── configs.py
</code></pre><p>In the <code>./src/lei_pipeline/dags/download_latest_lei.py</code> file, I imported the variable <code>LEI_URL_BASE_PATH</code> from <code>./src/lei_pipeline/utils/configs.py</code> in the following manner, including the full package path:</p><p><img src=/uploads/pycharm_project_root.png alt></p><p>This worked just as intended in the Docker image I was building to run Airflow. In the image, this <code>lei_pipeline</code> directory is copied to the <code>/opt/airflow/dags/</code> directory and Airflow easily picks up the necessary files.</p><p>As you can see, PyCharm doesn&rsquo;t consider the folder as a module, because it expects the module root to be the <code>src</code> directory. So if the correct import path for this file would be <code>src.lei_pipeline.utils.configs</code>. There can be many reasons why you wouldn&rsquo;t use <code>src</code> as your Python project&rsquo;s root module, in my case I needed to have an <code>.airflowignore</code> file in the root, and use the actual <code>lei_pipeline</code> module to be imported in my Airflow Docker image&rsquo;s <code>dags</code> folder.</p><p>The solution to this is actually pretty simple. All I did was marked the <code>src</code> directory as my project source root in PyCharm. Just right click on the root folder and from &ldquo;Mark directory as&rdquo; set &ldquo;Source Root&rdquo;:</p><p><img src=/uploads/pycharm_project_root_set.png alt></p><p>Et voilà! For me this was enough for PyCharm to start accurately!</p><p>However, in some cases this might not be enough. PyCharm doesn&rsquo;t always update it&rsquo;s references, so you might need to force it to rebuild them. You can do this from <code>File > Invalidate Caches</code></p><p>Hopefully this helps someone who has been Googling as cluelessly as I did!</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=/posts/data-engineering-youtube-channels-you-should-follow/><span class=button__text>Data Engineering Youtube Channels You Should Follow</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>Ratul Minhaz</span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=/assets/main.js></script>
<script src=/assets/prism.js></script>
<script src=/assets/languageSelector.js></script></div></body></html>